{% extends 'main/base.html' %}

{% load static %}

{% block title %} Admin Page {% endblock %}

{% block content %}

<div class="container">
    <h2>Admin Page</h2>
    
    <div class="container my-3">
        <div class="d-flex flex-column mt-3 col-md-3 col-lg-3">
            <a href="{% url 'admin_conversations' %}" class="btn btn-primary mt-3">Chats</a>
        </div>

        <h1 class="mt-4">Admission Requests</h1>

        <!-- PDF Download Button -->
        <a href="{% url 'download_admissions_pdf' %}" class="btn btn-success mb-3">Download as PDF</a>

        <!-- Add the responsive table wrapper -->
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th>#</th>
                        <th>Student Name</th>
                        <th>Gender</th>
                        <th>Date of Birth</th>
                        <th>Applying Class</th>
                        <th>Parent Name</th>
                        <th>Parent Phone</th>
                        <th>Submitted At</th>
                    </tr>
                </thead>
                <tbody>
                    {% for admission in admissions %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ admission.first_name }} {{ admission.last_name }}</td>
                        <td>{{ admission.gender }}</td>
                        <td>{{ admission.date_of_birth }}</td>
                        <td>{{ admission.applying_class }}</td>
                        <td>{{ admission.parent_first_name }} {{ admission.parent_last_name }}</td>
                        <td>{{ admission.parent_phone }}</td>
                        <td>{{ admission.submitted_at }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}
